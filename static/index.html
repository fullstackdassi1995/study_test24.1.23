<!DOCTYPE html>
<html lang="en">
<head>
     
    <title>Document</title>
 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<style>
    table {   
       counter-reset: rowNumber;
       margin-left: 50%;
       margin-top: 50px;
   }
   .num {
       counter-increment: rowNumber;
   }
   table tr td:first-child::before {   
       content: counter(rowNumber);   
       min-width: 1em;   
       margin-right: 0.5em;
   }

</style>
   


</head>



<body>
<div class="col-sm-6">
    <table class="table" id="my_car">
        <tr>
            <th>#</th>
            <th>Car name</th>
            <th>Year</th>
            <th>Km</th>
            <th>Price</th>
            <th>Option</th>
        </tr>
        <tr class="num" id="row1">
            <td></td>
            <td>Toyota</td>
            <td>2000</td>
            <td>3028280</td>
            <td id="price1">60,000 $</td>
            <td><button class="btn btn-primary" onclick="click_select(1)" id="select1">Select</button></td>
        </tr>
        <tr class="num" id="row2">
            <td></td>
            <td>Mazda</td>
            <td>2020</td>
            <td>199028</td>
            <td id="price2">70,000 $</td>
            <td><button class="btn btn-primary" onclick="click_select(2)" id="select2">Select</button></td>
        </tr>
        <tr class="num" id="row3">
            <td></td>
            <td>BMW</td>
            <td>2001</td>
            <td>38273</td>
            <td id="price2">90,000 $</td>
            <td><button class="btn btn-primary" id="select3" onclick="click_select(3)" >Select</button></td>
        </tr>
        
    </table>

    <button class="btn btn-primary btn-lg btn-block col-sm-12" style="margin-left: 50%;" onclick="order()">Order</button>
</div>
<script>
    

    function change_text_and_color_1(x){
        document.getElementById(`row${x}`).style.background = 'rgb(61, 190, 61)';
        document.getElementById(`select${x}`).innerHTML = "Use select"
    }
    function change_text_and_color_2(x){
        document.getElementById(`row${x}`).style.background = '';
        document.getElementById(`select${x}`).innerHTML = "Select"
    }

    function click_select(x){
        if (document.getElementById(`select${x}`).innerHTML == 'Select'){
            change_text_and_color_1(x)
        }
        else {
            change_text_and_color_2(x)
        }
    }

    function order(){
        let table = document.getElementById('my_car');
        let total = 0
        for(let i = 1 ; i < table.rows.length ; i++){
            if (document.getElementById(`select${i}`).innerHTML == 'Use select'){
               total += parseFloat(table.rows[i].cells[4].innerHTML.replace(/,/g,''));
            }
        }
        let total_comma = total.toLocaleString("en-US")
        Swal.fire(`Total purchase price: ${total_comma} $`)
    }


</script>

   </body>
</html>
